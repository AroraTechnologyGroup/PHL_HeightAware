//>>built
var __extends=this&&this.__extends||function(){var e=function(a,c){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};return e(a,c)};return function(a,c){function b(){this.constructor=a}e(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),__decorate=this&&this.__decorate||function(e,a,c,b){var k=arguments.length,f=3>k?a:null===b?b=Object.getOwnPropertyDescriptor(a,c):b,l;
if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(e,a,c,b);else for(var g=e.length-1;0<=g;g--)if(l=e[g])f=(3>k?l(f):3<k?l(a,c,f):l(a,c))||f;return 3<k&&f&&Object.defineProperty(a,c,f),f};
define("require exports esri/core/tsSupport/declareExtendsHelper esri/core/tsSupport/decorateHelper esri/core/Accessor esri/core/watchUtils esri/widgets/LayerList esri/widgets/Expand esri/widgets/Legend esri/widgets/Home ../CameraPane esri/geometry ../ObstructionPane ../ObstructionResults ../Disclaimer esri/core/accessorSupport/decorators".split(" "),function(e,a,c,b,k,f,l,g,m,n,p,q,r,t,u,h){Object.defineProperty(a,"__esModule",{value:!0});e=function(a){function d(b){b=a.call(this,b)||this;f.whenOnce(b,
"view").then(b.onload.bind(b));return b}c(d,a);d.prototype.defineActions=function(b){b=b.item;b.actionsSections="group"===b.layer.type?[[{title:"Increase opacity",className:"esri-icon-up",id:"increase-opacity"},{title:"Decrease opacity",className:"esri-icon-down",id:"decrease-opacity"}]]:[[{title:"Zoom To",className:"esri-icon-zoom-in-magnifying-glass",id:"zoom-to-layer"},{title:"Increase opacity",className:"esri-icon-up",id:"increase-opacity"},{title:"Decrease opacity",className:"esri-icon-down",
id:"decrease-opacity"},{title:"Metadata Link",className:"esri-icon-link",id:"metadata-link"}]]};d.prototype.onload=function(){var b=this,a=this.disclaimer=new u.Disclaimer({view:this.view}),a=new g({expandIconClass:"esri-icon-description",expandTooltip:"Expand Site Description",view:this.view,content:a});this.view.ui.add(a,"bottom-left");a=this.layerList=new l({container:document.createElement("div"),view:this.view,listItemCreatedFunction:this.defineActions.bind(this)});a.on("trigger-action",function(a){var c=
a.action.id,d=a.item.layer.geometryType;"increase-opacity"===c?1>a.item.layer.opacity&&(a.item.layer.opacity+=.1):"decrease-opacity"===c?0<a.item.layer.opacity&&(a.item.layer.opacity-=.1):"zoom-to-layer"===c?"point"===d?a.item.layerView.queryFeatures().then(function(a){b.view.goTo({target:a.features[0],tilt:b.view.camera.tilt})}):"obstruction_base"===a.item.layer.id?a.item.layerView.queryFeatures().then(function(a){b.view.goTo({target:a.features[0],tilt:b.view.camera.tilt})}):(a=a.item.layer.fullExtent,
b.view.goTo({target:new q.Polygon({spatialReference:b.view.spatialReference,rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}),tilt:b.view.camera.tilt})):"metadata-link"===c&&(console.log(a),open(a.item.layer.url+"/info/metadata","_blank"))});a=new g({expandIconClass:"esri-icon-layer-list",expandTooltip:"Expand LayerList",view:this.view,content:a});this.view.ui.add(a,"bottom-left");var a=new t.ObstructionResults({view:this.view,id:"ObstructionResults",scene:this.scene}),
c=this.obstructionPane=new r.ObstructionPane({scene:this.scene,view:this.view,results:a}),c=new g({expandIconClass:"esri-icon-organization",expandTooltip:"Expand Obstruction Input",view:this.view,content:c});this.view.ui.add(c,"top-right");c.expand();c=new g({expandIconClass:"esri-icon-organization",expandTooltip:"Expand Obsruction Results",view:this.view,content:a});this.view.ui.add(c,"bottom-right");a.expand=c;a=this.legend=new m({view:this.view});a=new g({expandIconClass:"esri-icon-key",expandTooltip:"Expand LayerLegend",
view:this.view,content:a});this.view.ui.add(a,"bottom-left");a=this.cameraPane=new p.CameraPane({scene:this.scene,view:this.view});a=new g({expandIconClass:"esri-icon-mobile",expandTooltip:"Expand Camera Location",view:this.view,content:a});this.view.ui.add(a,"bottom-left");a=new n({view:this.view});this.view.ui.add(a,"top-left")};b([h.property()],d.prototype,"scene",void 0);b([h.property()],d.prototype,"view",void 0);b([h.property()],d.prototype,"obstructionPane",void 0);b([h.property()],d.prototype,
"disclaimer",void 0);b([h.property()],d.prototype,"layerList",void 0);b([h.property()],d.prototype,"legend",void 0);b([h.property()],d.prototype,"cameraPane",void 0);return d=b([h.subclass("widgets.App.AppViewModel")],d)}(h.declared(k));a.default=e});