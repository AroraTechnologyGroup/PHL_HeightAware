//>>built
var __extends=this&&this.__extends||function(){var k=function(g,h){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g])};return k(g,h)};return function(g,h){function b(){this.constructor=g}k(g,h);g.prototype=null===h?Object.create(h):(b.prototype=h.prototype,new b)}}(),__decorate=this&&this.__decorate||function(k,g,h,b){var c=arguments.length,l=3>c?g:null===b?b=Object.getOwnPropertyDescriptor(g,h):b,m;
if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(k,g,h,b);else for(var n=k.length-1;0<=n;n--)if(m=k[n])l=(3>c?m(l):3<c?m(g,h,l):m(g,h))||l;return 3<c&&l&&Object.defineProperty(g,h,l),l};
define("require exports esri/core/tsSupport/declareExtendsHelper esri/core/tsSupport/decorateHelper esri/core/accessorSupport/decorators esri/widgets/Widget dojo/aspect dojo/query dojo/_base/declare dojo/dom-class dgrid/Grid dgrid/Selection dstore/Memory ./viewModels/ObstructionResultsViewModel esri/widgets/support/widget".split(" "),function(k,g,h,b,c,l,m,n,p,d,q,r,u,v,f){Object.defineProperty(g,"__esModule",{value:!0});k=function(g){function e(a){a=g.call(this,a)||this;a.viewModel=new v.default;
a.x=0;a.y=0;a.agl=0;a.msl=0;a.name="Obstruction Results";a.groundElevation=0;a.count_3d=0;a.count_2d=0;a.store3d=new u({data:[]});a.store2d=new u({data:[]});return a}h(e,g);e.prototype.postInitialize=function(){var a=this,d=this.watch("layerResults3d",function(d,b,c,e){a.count_3d=d.features.length;d=a.viewModel.create3DArray(d.features,a.groundElevation,a.agl);console.log(d);a.results3d_grid.set("collection",a.store3d.data);a.results3d_grid.refresh();a.results3d_grid.renderArray(a.store3d.data);a.results3d_grid.resize();
a.meta3d.set("collection",a.store3d.data);a.meta3d.refresh();a.meta3d.renderArray(a.store3d.data);a.meta3d.resize()}),b=this.watch("layerResults2d",function(d,b,c,e){a.count_2d=d.features.length;d=a.viewModel.create2DArray(d.features);console.log(d);a.results2d_grid.set("collection",a.store2d.data);a.results2d_grid.refresh();a.results2d_grid.renderArray(a.store2d.data);a.results2d_grid.resize();a.meta2d.set("collection",a.store2d.data);a.meta2d.refresh();a.meta2d.renderArray(a.store2d.data);a.meta2d.resize()});
this.own([d,b])};e.prototype.Click3d=function(a){if(!d.contains(a,"is-active")){a=document.getElementById("tab_3d");var b=document.getElementById("tab-meta_3d"),c=document.getElementById("results3d"),e=document.getElementById("results3d_meta"),f=document.getElementById("tab_2d"),g=document.getElementById("tab-meta_2d"),h=document.getElementById("results2d"),k=document.getElementById("results2d_meta");d.add(a,"is-active");d.add(c,"is-active");d.remove(b,"is-active");d.remove(g,"is-active");d.remove(e,
"is-active");d.remove(f,"is-active");d.remove(h,"is-active");d.remove(k,"is-active")}this.meta3d.resize();this.results3d_grid.resize()};e.prototype.Click2d=function(a){if(!d.contains(a,"is-active")){a=document.getElementById("tab_3d");var b=document.getElementById("tab-meta_3d"),c=document.getElementById("results3d"),e=document.getElementById("results3d_meta"),f=document.getElementById("tab_2d"),g=document.getElementById("tab-meta_2d"),h=document.getElementById("results2d"),k=document.getElementById("results2d_meta");
d.add(f,"is-active");d.add(h,"is-active");d.remove(b,"is-active");d.remove(g,"is-active:);");d.remove(k,"is-active");d.remove(a,"is-active");d.remove(c,"is-active");d.remove(e,"is-active")}this.meta2d.resize();this.results2d_grid.resize()};e.prototype.Click3dMeta=function(a){if(!d.contains(a,"is-active")){a=document.getElementById("tab_3d");var b=document.getElementById("tab-meta_3d"),c=document.getElementById("results3d"),e=document.getElementById("results3d_meta"),f=document.getElementById("tab_2d"),
g=document.getElementById("tab-meta_2d"),h=document.getElementById("results2d"),k=document.getElementById("results2d_meta");d.add(b,"is-active");d.add(e,"is-active");d.remove(a,"is-active");d.remove(c,"is-active");d.remove(f,"is-active");d.remove(h,"is-active");d.remove(g,"is-active");d.remove(k,"is-active")}this.meta3d.resize();this.results3d_grid.resize()};e.prototype.Click2dMeta=function(a){if(!d.contains(a,"is-active")){a=document.getElementById("tab_3d");var b=document.getElementById("tab-meta_3d"),
c=document.getElementById("results3d"),e=document.getElementById("results3d_meta"),f=document.getElementById("tab_2d"),g=document.getElementById("tab-meta_2d"),h=document.getElementById("results2d"),k=document.getElementById("results2d_meta");d.add(k,"is-active");d.add(g,"is-active");d.remove(h,"is-active");d.remove(f,"is-active");d.remove(a,"is-active");d.remove(b,"is-active");d.remove(c,"is-active");d.remove(e,"is-active")}this.meta2d.resize();this.results2d_grid.resize()};e.prototype.buildResults3d=
function(a){a=this.results3d_grid=new (p([q,r]))({columns:{clearance:{label:"Clearance (+ / - ft.)",className:"data-field"},name:{label:"Surface Name",className:"data-field"},type:{label:"Type",className:"data-field"},condition:{label:"Condition",className:"data-field"},runway:{label:"Runway",className:"data-field"},elevation:{label:"Elevation Above Sea Level (ft.)",className:"data-field"},height:{label:"Height Above Ground (ft.)",className:"data-field"}}},a);m.after(a,"renderRow",function(a,b){try{if(0>=
parseFloat(b[0].clearance)){var c=n(".dgrid-cell.field-clearance",a);c.length&&d.add(c[0],"negative")}}catch(t){console.log(t)}return a});a.startup()};e.prototype.buildResults2d=function(a){(this.results2d_grid=new (p([q,r]))({columns:{name:{label:"Surface Name"},desc:{label:"Description"}}},a)).startup()};e.prototype.build3dMeta=function(a){a=this.meta3d=new (p([q,r]))({columns:{clearance:{label:"Clearance (+ / - ft.)",className:"data-field"},guidance:{label:"Approach Guidance",className:"metadata-field"},
date:{label:"Date Acquired",className:"metadata-field"},desc:{label:"Description",className:"metadata-field"},regulation:{label:"Safety Regulation",className:"metadata-field"},zone:{label:"Zone Use",className:"metadata-field"}}},a);m.after(a,"renderRow",function(a,b){try{if(0>=parseFloat(b[0].clearance)){var c=n(".dgrid-cell.field-clearance",a);c.length&&d.add(c[0],"negative")}}catch(t){console.log(t)}return a});a.startup()};e.prototype.build2dMeta=function(a){(this.meta2d=new (p([q,r]))({columns:{date:{label:"Date Acquired"},
source:{label:"Data Source"},updated:{label:"Last Update"}}},a)).startup()};e.prototype.render=function(){return f.tsx("div",{id:"obstructionResults",class:"esri-widget"},f.tsx("h2",null,this.name),f.tsx("div",null,f.tsx("b",null,"x:")," ",this.x," feet",f.tsx("br",null),f.tsx("b",null,"y:")," ",this.y," feet",f.tsx("br",null),f.tsx("b",null,"Ground Elevation:")," ",this.groundElevation," feet MSL ",f.tsx("i",null,"source:",this.dem_source),f.tsx("br",null),f.tsx("b",null,"Obstruction Height AGL:"),
" ",this.agl," feet",f.tsx("br",null),f.tsx("b",null,"Obstruction Elevation MSL:")," ",this.msl," feet",f.tsx("br",null)),f.tsx("div",{class:"trailer-2 js-tab-group"},f.tsx("nav",{class:"tab-nav"},f.tsx("a",{id:"tab_3d",class:"tab-title is-active",onclick:this.Click3d.bind(this)},"3D Surfaces (",this.count_3d,")"),f.tsx("a",{id:"tab-meta_3d",class:"tab-title",onclick:this.Click3dMeta.bind(this)}," - metadata"),f.tsx("a",{id:"tab_2d",class:"tab-title",onclick:this.Click2d.bind(this)},"2D Surfaces (",
this.count_2d,")"),f.tsx("a",{id:"tab-meta_2d",class:"tab-title",onclick:this.Click2dMeta.bind(this)}," - metadata")),f.tsx("section",{class:"tab-contents claro"},f.tsx("article",{id:"results3d",class:"results_panel tab-section js-tab-section is-active"},f.tsx("div",{afterCreate:this.buildResults3d.bind(this)})),f.tsx("article",{id:"results2d",class:"results_panel tab-section js-tab-section"},f.tsx("div",{afterCreate:this.buildResults2d.bind(this)})),f.tsx("article",{id:"results3d_meta",class:"results_panel-meta tab-section js-tab-section"},
f.tsx("div",{afterCreate:this.build3dMeta.bind(this)})),f.tsx("article",{id:"results2d_meta",class:"results_panel-meta tab-section js-tab-section"},f.tsx("div",{afterCreate:this.build2dMeta.bind(this)})))))};b([c.property()],e.prototype,"viewModel",void 0);b([c.aliasOf("viewModel.scene")],e.prototype,"scene",void 0);b([c.aliasOf("viewModel.view")],e.prototype,"view",void 0);b([c.aliasOf("viewModel.x")],e.prototype,"x",void 0);b([c.aliasOf("viewModel.y")],e.prototype,"y",void 0);b([c.aliasOf("viewModel.agl")],
e.prototype,"agl",void 0);b([c.aliasOf("viewModel.msl")],e.prototype,"msl",void 0);b([c.aliasOf("viewModel.name")],e.prototype,"name",void 0);b([c.aliasOf("viewModel.groundElevation")],e.prototype,"groundElevation",void 0);b([c.aliasOf("viewModel.modifiedBase")],e.prototype,"modifiedBase",void 0);b([c.aliasOf("viewModel.dem_source")],e.prototype,"dem_source",void 0);b([c.aliasOf("viewModel.layerResults3d")],e.prototype,"layerResults3d",void 0);b([c.aliasOf("viewModel.layerResults2d")],e.prototype,
"layerResults2d",void 0);b([c.aliasOf("viewModel.count_3d")],e.prototype,"count_3d",void 0);b([c.aliasOf("viewModel.count_2d")],e.prototype,"count_2d",void 0);b([c.aliasOf("viewModel.expand")],e.prototype,"expand",void 0);b([c.aliasOf("viewModel.results3d_grid")],e.prototype,"results3d_grid",void 0);b([c.aliasOf("viewModel.results2d_grid")],e.prototype,"results2d_grid",void 0);b([c.aliasOf("viewModel.meta3d")],e.prototype,"meta3d",void 0);b([c.aliasOf("viewModel.meta2d")],e.prototype,"meta2d",void 0);
b([c.aliasOf("viewModel.store3d")],e.prototype,"store3d",void 0);b([c.aliasOf("viewModel.store2d")],e.prototype,"store2d",void 0);return e=b([c.subclass("app.widgets.obstructionResults")],e)}(c.declared(l));g.ObstructionResults=k});